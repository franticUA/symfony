{% extends 'BlogBundle::layouts/base.html.twig' %}
{% block content %}
    <a href="{{ path('BlogBundle_new') }}">Добавить</a>
    <div class="articles">
        {% for article in articles %}
            <article data-module="widgets.Article"
                data-id="{{ article.id }}">
                <h3>{{ article.title }}</h3>
                <div>{{ article.user.username }}, {{ article.created|date('l, F j, Y') }}</div>
                <div class="article-content">{{ article.content|raw }}</div>
                <div>
                    <a href="{{ path('API_article', {'id': article.id}) }}" data-ajax="" data-method="post"
                       data-action="{% if article.userLike > 0 %}unlike{% else %}like{% endif %}">
                        +1
                    </a> |  {{ article.rating }} |
                    <a href="{{ path('API_article', {'id': article.id}) }}" data-ajax="" data-method="post"
                       data-action="{% if article.userLike < 0 %}unlike{% else %}dislike{% endif %}">
                        -1
                    </a>
                </div>
                <a href="{{ path('BlogBundle_show', { 'id': article.id }) }}">комментарии</a>
            </article>
        {% else %}
            <p>There are no blog entries</p>
        {% endfor %}
    </div>
    {% if paginator.pages > 1 %}
    <nav>
        <ul class="pagination">
            {% if paginator.page > 1 %}
                <li class="page-item">
                    <a class="page-link" href="#" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="sr-only">Previous</span>
                    </a>
                </li>
            {% endif %}
        {% for i in paginator.start..paginator.end %}
            <li class="page-item {% if i == paginator.page %}active{% endif %}">
                <a class="page-link" href="#">{{ i }}</a>
            </li>
        {% endfor %}
            {% if paginator.page < paginator.pages %}
                <li class="page-item">
                    <a class="page-link" href="#" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                        <span class="sr-only">Next</span>
                    </a>
                </li>
            {% endif %}
        </ul>
    </nav>
    {% endif %}

{% endblock %}
