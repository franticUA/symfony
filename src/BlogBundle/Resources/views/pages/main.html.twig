{% extends 'BlogBundle::layouts/base.html.twig' %}
{% block content %}
    <a href="{{ path('BlogBundle_new') }}">Добавить</a>
    <div class="articles">
    {% if articles|length > 0 %}
        {% for article in articles %}
            <article>
                <h3>{{ article.title }}</h3>
                <div>{{ article.user.username }}, {{ article.created|date('l, F j, Y') }}</div>
                <div class="article-content">{{ article.content|raw }}</div>
                <div>

                    {% set like = 1 %}
                    {% set dislike = -1 %}
                    {% for l in article.likes %}
                        {% if l.val > 0 %}
                            {% set like = 0 %}
                        {% endif %}
                        {% if l.val < 0 %}
                            {% set dislike = 0 %}
                        {% endif %}
                    {% endfor %}
                    <a href="{{ path('BlogBundle_like', {'id': article.id, 'type': like}) }}">{% if like == 0 %}UN{% endif %}LIKE</a> |
                    {{ article.rating }} |
                    <a href="{{ path('BlogBundle_like', {'id': article.id, 'type': dislike}) }}" >{% if dislike == 0 %}UN{% endif %}DISLIKE</a>

                </div>
                <a href="{{ path('BlogBundle_show', { 'id': article.id }) }}">комментарии</a>
            </article>
        {% endfor %}
    {% else %}
        <p>There are no blog entries</p>
    {% endif %}
    </div>
    {% if paginator.pages > 1 %}
    <nav>
        <ul class="pagination">
            {% if paginator.page > 1 %}
                <li class="page-item">
                    <a class="page-link" href="#" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="sr-only">Previous</span>
                    </a>
                </li>
            {% endif %}
        {% for i in paginator.start..paginator.end %}
            <li class="page-item {% if i == paginator.page %}active{% endif %}">
                <a class="page-link" href="#">{{ i }}</a>
            </li>
        {% endfor %}
            {% if paginator.page < paginator.pages %}
                <li class="page-item">
                    <a class="page-link" href="#" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                        <span class="sr-only">Next</span>
                    </a>
                </li>
            {% endif %}
        </ul>
    </nav>
    {% endif %}

{% endblock %}